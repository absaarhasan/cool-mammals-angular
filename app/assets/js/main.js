"use strict";function AddCtrl(a,b){var c=a.$parent.vm.newId,d={id:c},e=this;e.mammal=d,e.addMammal=function(){a.$parent.vm.newId=++c,a.$parent.vm.mammals.push(this.mammal),b.go("success",{event:"add"})}}function DetailsCtrl(a,b,c,d){var e=a.$parent.vm.mammals,f=b("filter")(e,{id:c.id})[0],g=e.indexOf(f),h=this;h.mammal=f,h["delete"]=function(){a.$parent.vm.mammals.splice(g,1),d.go("success",{event:"delete"})}}function mainNav(){var a={restrict:"A",replace:!0,templateUrl:"views/shared/nav.html"};return a}function mainJumbotron(){var a={restrict:"A",replace:!0,templateUrl:"views/shared/jumbotron.html"};return a}function mainFooter(){var a={restrict:"A",replace:!0,templateUrl:"views/shared/footer.html"};return a}function EditCtrl(a,b,c,d){var e=a.$parent.vm.mammals,f=c("filter")(e,{id:d.id})[0],g=e.indexOf(f),h=this;h.mammal=f,h.editMammal=function(){a.$parent.vm.mammals[g]=this.mammal,b.go("success",{event:"edit"})}}function HomeCtrl(a){var b=this;b.mammals=a.$parent.vm.mammals}function MainCtrl(a){var b=this;b.mammals=a,b.newId=a.length+1}function SuccessCtrl(a,b){var c=this;c.msg=a.msg,a.activate(b)}function successService(){function a(a){"add"===a.event?b.msg.response="Your new mammal has been added!":"edit"===a.event?b.msg.response="Your changes are now live!":"delete"===a.event?b.msg.response="This mammal has now been deleted!":b.msg.response="Oops, you appear to have landed here by mistake ..."}var b={msg:{response:""},activate:a};return b}!function(){angular.module("cm.add",[]).controller("AddCtrl",AddCtrl).config(["$stateProvider",function(a){a.state("add",{url:"/add",parent:"main",templateUrl:"views/add/template.html",controller:"AddCtrl",controllerAs:"vm"})}])}(),AddCtrl.$inject=["$scope","$state"],function(){angular.module("cm",["ui.router","ui.bootstrap","cm.main","cm.home","cm.details","cm.add","cm.success","cm.edit"]).config(["$urlRouterProvider",function(a){a.otherwise("/")}]).run(["$rootScope","$state",function(a,b){a.$state=b}])}(),function(){angular.module("cm.details",[]).controller("DetailsCtrl",DetailsCtrl).config(["$stateProvider",function(a){a.state("details",{url:"/details/:id",parent:"main",templateUrl:"views/details/template.html",controller:"DetailsCtrl",controllerAs:"vm"})}])}(),DetailsCtrl.$inject=["$scope","$filter","$stateParams","$state"],function(){angular.module("cm.edit",[]).controller("EditCtrl",EditCtrl).config(["$stateProvider",function(a){a.state("edit",{url:"/edit/:id",parent:"main",templateUrl:"views/edit/template.html",controller:"EditCtrl",controllerAs:"vm"})}])}(),EditCtrl.$inject=["$scope","$state","$filter","$stateParams"],angular.module("ellipsisFilter",[]).filter("ellipsisFilter",["$filter",function(a){return function(b){var c=a("limitTo")(b,200)+" ...";return c}}]),function(){angular.module("cm.home",["ellipsisFilter"]).controller("HomeCtrl",HomeCtrl).config(["$stateProvider",function(a){a.state("home",{url:"/",parent:"main",templateUrl:"views/home/template.html",controller:"HomeCtrl",controllerAs:"vm"})}])}(),HomeCtrl.$inject=["$scope"],function(){angular.module("cm.main",[]).directive("mainNav",mainNav).directive("mainJumbotron",mainJumbotron).directive("mainFooter",mainFooter).controller("MainCtrl",MainCtrl).config(["$stateProvider",function(a){a.state("main",{"abstract":!0,controller:"MainCtrl",templateUrl:"views/shared/main.html",controllerAs:"vm",resolve:{mammals:["$http",function(a){return a.get("/app/assets/json/mammals.json").then(function(a){return a.data.mammals})}]}})}])}(),MainCtrl.$inject=["mammals"],function(){angular.module("cm.success",[]).factory("successService",successService).controller("SuccessCtrl",SuccessCtrl).config(["$stateProvider",function(a){a.state("success",{url:"/success/:event",parent:"main",templateUrl:"views/success/template.html",controller:"SuccessCtrl",controllerAs:"vm"})}])}(),SuccessCtrl.$inject=["successService","$stateParams"],successService.$inject=[];